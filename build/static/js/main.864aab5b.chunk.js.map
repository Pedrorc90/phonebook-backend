{"version":3,"sources":["services/Phonebook.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","name","params","Filter","inputValue","onChangeHandler","value","onChange","PersonForm","nameInputValue","nameOnChangeHandler","numberInputValue","numberOnChangeHandler","type","Persons","list","NotificationError","message","className","Notification","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","nameToFind","setNameToFind","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","phoneBookService","event","onSubmit","preventDefault","newPerson","number","flt","filter","r","length","window","confirm","map","person","setTimeout","catch","err","concat","error","target","toLowerCase","includes","onClick","_","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.864aab5b.chunk.js","sourcesContent":["import axios from 'axios'\r\n//const baseUrl = 'https://vast-tor-73969.herokuapp.com/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\r\n\r\nconst getById = ( id ) => axios.get(`${baseUrl}/${id}`).then(response => response.data)\r\n\r\nconst getByName = ( name ) => axios.get(`${baseUrl}`, { params: { name } }).then(response => response.data)\r\n\r\nconst create = ( newObject ) => axios.post(baseUrl, newObject).then(response => response.data)\r\n\r\nconst update = ( id, newObject ) => axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\r\n\r\nconst remove = ( id ) => axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n\r\n\r\nexport default { getAll, create, update, remove, getById, getByName }","import React, { useState, useEffect } from 'react'\nimport phoneBookService from './services/Phonebook'\n\nconst Filter = ({inputValue, onChangeHandler}) =>  <div>Search: <input value={inputValue} onChange={onChangeHandler} /></div>\nconst PersonForm = ({nameInputValue, nameOnChangeHandler, numberInputValue, numberOnChangeHandler}) => <div>\n                              <div>name: <input value={nameInputValue} onChange={nameOnChangeHandler} /></div>\n                              <div>number: <input value={numberInputValue} onChange={numberOnChangeHandler}/></div>\n                              <div>\n                                <button type=\"submit\">add</button>\n                              </div>\n                            </div>\n\nconst Persons = ({list}) => <div><h2>Numbers</h2>{list}</div>\n\nconst NotificationError = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('');\n  const [ nameToFind, setNameToFind] = useState('');\n  const [ errorMessage, setErrorMessage] = useState(null)\n  const [ successMessage, setSuccessMessage] = useState(null)\n\n  useEffect(() =>  phoneBookService.getAll().then(persons => setPersons(persons)), []);\n\n  const addNewPerson = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber }\n    phoneBookService.getByName(newName).then(response => {\n      let flt = response.filter(r => r.name === newName)\n      if (flt.length !== 0) {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          phoneBookService.update( flt[0].id, newPerson)\n          .then(r =>  {\n            setPersons(persons.map(person => person.id !== r.id ? person : r))\n            setSuccessMessage(`User ${r.name} updated successfully`)\n            setTimeout(() => setSuccessMessage(null),5000)\n          })\n          .catch(err => {\n            setErrorMessage('content missing')\n            setTimeout( () => setErrorMessage(null), 5000)\n          })\n        }\n      } else {\n        phoneBookService.create( newPerson )\n        .then(response => {\n          setPersons(persons.concat( response ))\n          setSuccessMessage(`User ${response.name} created successfully`)\n          setTimeout( () => setSuccessMessage(null), 5000)\n        })\n        .catch(err => {\n          setErrorMessage(err.response.data.error)\n          setTimeout( () => setErrorMessage(null), 5000)\n        })\n      }\n    })\n\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value);\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\n  const handleNameToFind = (event) => setNameToFind(event.target.value);\n  const handleOnClickDelete = ( id, name ) => {\n    if (window.confirm(`Delete ${id}`)) {\n      phoneBookService.remove(id)\n      .then( ( _ ) => phoneBookService.getAll().then(r => setPersons(r)))\n      .catch(err => {\n        console.log(err)\n        setErrorMessage(`Information of ${name} has already been removed from server`)\n        setTimeout( () => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const peopleList = (event) => persons.map(person => {\n    if (person.name.toLowerCase().includes(event.toLowerCase())) {\n      return <li key={person.id}>{person.name} - {person.number} <button onClick={() => {handleOnClickDelete(person.id, person.name )}}>Delete</button></li> \n    }\n  });\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} />\n      <NotificationError message={errorMessage}/>\n      <form onSubmit={addNewPerson}>\n        <Filter inputValue={nameToFind} onChangeHandler={handleNameToFind}/>\n        <h2>Add a new</h2>\n        <PersonForm nameInputValue={newName} nameOnChangeHandler={handleNameChange} numberInputValue={newNumber} numberOnChangeHandler={handleNumberChange} />\n      </form>\n     <Persons list={peopleList(nameToFind)} />\n    </div>\n  )\n}\n\n\n\n\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}