(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(n,e,t){},41:function(n,e,t){"use strict";t.r(e);var c=t(2),u=t.n(c),a=t(16),r=t.n(a),i=(t(21),t(4)),o=t(3),s=t.n(o),l="/api/persons",d=function(){return s.a.get(l).then((function(n){return n.data}))},j=function(n){return s.a.post(l,n).then((function(n){return n.data}))},b=function(n,e){return s.a.put("".concat(l,"/").concat(n),e).then((function(n){return n.data}))},f=function(n){return s.a.delete("".concat(l,"/").concat(n)).then((function(n){return n.data}))},h=function(n){return s.a.get("".concat(l),{params:{name:n}}).then((function(n){return n.data}))},m=t(0),O=function(n){var e=n.inputValue,t=n.onChangeHandler;return Object(m.jsxs)("div",{children:["Search: ",Object(m.jsx)("input",{value:e,onChange:t})]})},v=function(n){var e=n.nameInputValue,t=n.nameOnChangeHandler,c=n.numberInputValue,u=n.numberOnChangeHandler;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{children:["name: ",Object(m.jsx)("input",{value:e,onChange:t})]}),Object(m.jsxs)("div",{children:["number: ",Object(m.jsx)("input",{value:c,onChange:u})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]})},p=function(n){var e=n.list;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Numbers"}),e]})},x=function(n){var e=n.message;return null===e?null:Object(m.jsx)("div",{className:"error",children:e})},g=function(n){var e=n.message;return null===e?null:Object(m.jsx)("div",{className:"success",children:e})},C=function(){var n=Object(c.useState)([]),e=Object(i.a)(n,2),t=e[0],u=e[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(c.useState)(""),C=Object(i.a)(l,2),w=C[0],S=C[1],k=Object(c.useState)(""),I=Object(i.a)(k,2),T=I[0],y=I[1],H=Object(c.useState)(null),V=Object(i.a)(H,2),D=V[0],F=V[1],L=Object(c.useState)(null),E=Object(i.a)(L,2),N=E[0],P=E[1];Object(c.useEffect)((function(){return d().then((function(n){return u(n)}))}),[]);var B;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(g,{message:N}),Object(m.jsx)(x,{message:D}),Object(m.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e={name:o,number:w};h(o).then((function(n){n.forEach((function(n){return n.name===o}))?window.confirm("".concat(o," is already added to phonebook, replace the old number with a new one?"))&&b(n[0].id,e).then((function(n){u(t.map((function(e){return e.id!==n.id?e:n}))),P("User ".concat(n.name," updated successfully")),setTimeout((function(){P(null)}),5e3)})).catch((function(n){F("content missing"),setTimeout((function(){F(null)}),5e3)})):j(e).then((function(n){u(t.concat(n)),P("User ".concat(n.name," created successfully")),setTimeout((function(){P(null)}),5e3)})).catch((function(n){F("name must be unique"),setTimeout((function(){F(null)}),5e3)}))}))},children:[Object(m.jsx)(O,{inputValue:T,onChangeHandler:function(n){return y(n.target.value)}}),Object(m.jsx)("h2",{children:"Add a new"}),Object(m.jsx)(v,{nameInputValue:o,nameOnChangeHandler:function(n){return s(n.target.value)},numberInputValue:w,numberOnChangeHandler:function(n){return S(n.target.value)}})]}),Object(m.jsx)(p,{list:(B=T,t.map((function(n){if(n.name.toLowerCase().includes(B.toLowerCase()))return Object(m.jsxs)("li",{children:[n.name," - ",n.number," ",Object(m.jsx)("button",{onClick:function(){var e,t;e=n.id,t=n.name,window.confirm("Delete ".concat(e))&&f(e).then((function(n){return d().then((function(n){return u(n)}))})).catch((function(n){F("Information of ".concat(t," has already been removed from server")),setTimeout((function(){F(null)}),5e3)}))},children:"Delete"})]},n.id)})))})]})},w=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(e){var t=e.getCLS,c=e.getFID,u=e.getFCP,a=e.getLCP,r=e.getTTFB;t(n),c(n),u(n),a(n),r(n)}))};r.a.render(Object(m.jsx)(u.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),w()}},[[41,1,2]]]);
//# sourceMappingURL=main.55f86ce3.chunk.js.map